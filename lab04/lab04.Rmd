---
title: 'STAT 443: Lab 5'
author: 'Aronn Grant Laurel (21232475)'
date: "31 January, 2025"
output:
  pdf_document: default
  html_document: default
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
#if you do not have the package, type install.packages("name_of_the_package")
library(knitr)
library(tseries)
library(zoo)
```

### Question 1
Without using any mathematical notation, describe in words what it means for a time series to be stationary. 

For a time series, it's stochastic process is called stationary if its mean is 
constant. Another way we can determine its stationarity is by observing its 
plotted data and see a consistent behaviour overtime for its variance.



### Question 2
```{r, echo=TRUE}
# this is where your R code goes
data <- read.csv("lab4data.csv", header = TRUE)
ts_data <- ts(data[,2])
```

```{r, echo=TRUE}
# this is where your R code goes
plot(ts_data,
     main="Original Time Series", 
     xlab="Time",
     ylab="Values")

# acf(ts_data, main="ACF of Original Time Series")


```
Based on our time series plot, we can see a strong negative slope / trend,hence 
the mean is changing over time and we may consider it as non-stationary.

### Question 3

```{r, echo=TRUE}
# this is where your R code goes
diff_ts <- diff(ts_data, lag=1, differences=1)

plot(diff_ts,
     main="Differenced Time Series", 
     xlab="Time",
     ylab="Differenced Value")

acf(diff_ts, main="ACF of Differenced Time Series")


```
In our difference time plot, we observe values fluctuating around zero at time 0
- 60 which could indicate it being stationary. However, we can also see an
increased fluctuation beyond 60. Although we removed the strong downward trend,
there might still be some non-stationarity in terms of variance.

For our ACF plot, we see an osciliating pattern with significant positive spikes
at several lags (lags 5, 10, 15, and 20) and significant negative spikes that 
are +/- one lag from the significant positive spikes. Hence, suggesting a 
seasonal pattern in the differenced data. Additionally, any strong 
autocorrelation from the non-difference data has been removed as most lags
fall outside the boundary line.

### Question 4
```{r, echo=TRUE}
# this is where your R code goes
acf_values <- acf(diff_ts, plot=FALSE)
seasonal_period <- which.max(acf_values$acf[2 : length(acf_values$acf)]) 

seasonal_diff <- diff(diff_ts, lag=seasonal_period, differences=1)

plot(seasonal_diff, 
     main = "Seasonally Differenced Time Series", 
     ylab = "Differenced Value", 
     xlab = "Time")

acf(seasonal_diff, main = "ACF of Seasonally Differenced Time Series")

```
From the acf plot, we can see that it resembles a white noise process.

### Question 5
From the lecture slides of Chapter 2, I would suggest a SARIMA(p,d,q) * (P,d,Q)s
model where: d = difference = 1.
 

### Question 6

(a) 

```{r, echo=TRUE}
# this is where your R code goes


```


(b)

```{r, echo=TRUE}
# this is where your R code goes
```


(c)

```{r, echo=TRUE}
# this is where your R code goes
```



### More information on R Markdown

This is an R Markdown document, which can be used as a template for STAT 443 labs and assignments. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.

When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:

```{r}
summary(cars)
```

Using the function *kable*, it produces a nicer table
```{r}
kable(summary(cars))
```

### Including Plots

You can also embed plots, for example:

```{r, echo=TRUE}
plot(pressure)
```

Note that specifying `echo = FALSE` parameter would prevent printing of the R code that generated the plot. This is something you may want to do for larger reports that would not require display of the R code.

You can also modify the size and alignment of the figure.
```{r, echo=TRUE, fig.cap="title",fig.align='center',fig.height=6,fig.width=4}
plot(pressure)
```